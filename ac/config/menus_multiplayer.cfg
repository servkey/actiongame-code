newmenu multiplayer

menuitem "Join Game"              	"showmenu server"
menuitem "Join LAN Game"            "lanconnect"
menuitem "Update Servers"         	"updatefrommaster;showmenu server"
menuitem "Disconnect"             	"disconnect"
menuitem "Vote"                   	"showmenu gamemode"
menuitem "Chat"                     "saycommand"
menuitem "Team Chat"                "saycommand %"
menuitem "VoiceCom"                 "showmenu voicecom"
menuitem "Server Operator"			"showmenu [server operator]"


newmenu gamemode

menuitem "Team Deathmatch"			"mode 0; showmenu maps"
menuitem "Deathmatch"        		"mode 2; showmenu maps"
menuitem "Team Survivor"			"mode 4; showmenu maps"
menuitem "Survivor"					"mode 3; showmenu maps"
menuitem "Capture the Flag"			"mode 5; showmenu maps_ctf"
menuitem "Pistol Frenzy"		    "mode 6; showmenu maps"
menuitem "Last Swiss Standing"		"mode 9; showmenu maps"
menuitem "One Shot, One Kill"       "mode 10; showmenu maps"
menuitem "Team One Shot, One Kill"  "mode 11; showmenu maps"

newmenu "server operator"

menuitem "Claim Master" "setmaster 1"
menuitem "Give Up Master" "setmaster 0"
menuitem "Claim Admin" "saycommand /setadmin 1 myPassword"
menuitem "Give Up Admin" "setadmin 0"
menuitem "" ""
menuitem "Set Mastermode" "showmenu mastermode"
menuitem "Change Mode/Map" "showmenu gamemode"
menuitem "Force Team Change" [showmenu "force team"]
menuitem "Kick Player" [showmenu "kick player"]
menuitem "Ban Player" [showmenu "ban player"]
menuitem "Remove Bans" "removebans"
menuitem "Give Master" [showmenu "give master"]


newmenu mastermode

menuitem "Open" "mastermode 0"
menuitem "Private" "mastermode 1"


newmenu voicecom 1 1

menuitem "1. Team Commands" [showmenu "Team Commands"]
menuitem "2. Team State" [showmenu "Team State"]
menuitem "3. Team Talk" [showmenu "Team Talk"]
menuitem "4. Team Shouts" [showmenu "Team Shouts"]
menuitem "5. Public Talk" [showmenu "Public Talk"]


alias vcrnd [ // pick random shout if possible
    alias len (listlen $arg1)
    if (> $len 1) [
        alias r (rnd $len)
        voicecom (at $arg1 $r) (at $arg2 $r)
    ] [
        voicecom $arg1 $arg2
    ]
]


alias genvcitem [
    if (> (listlen $arg2) 1) [ alias text (at $arg1 0) ] [ alias text $arg1 ] // split multiple shouts
    alias action (concatword vcrnd " [" $arg2 "]" " [" $arg1 "]")
    menuitem (concatword $arg3 ". " $text) $action // add as numbered list
]


newmenu "Team Commands" 1 1

genvcitem "Come on, move!"              comeonmove          1
genvcitem "Cover me!"                   coverme             2
genvcitem "Spread out!"                 spreadout           3
genvcitem "Stay here!"                  stayhere            4
genvcitem "Stay together!"              staytogether        5
genvcitem "Defend the flag!"            defendtheflag       6
genvcitem "Recover the flag!"           recovertheflag      7


newmenu "Team State" 1 1

genvcitem ["Enemy down" "I got one"]    "enemydown igotone" 1
genvcitem "I made contact"              imadecontact        2
genvcitem "I'm attacking"               imattacking         3
genvcitem "I'm on defense"              imondefense         4
genvcitem "Coming in with the flag!"    cominginwiththeflag    5
         

newmenu "Team Talk" 1 1

genvcitem [Yes Affirmative "All right, Sir"]                    "yes affirmative allrightsir"       1
genvcitem ["Negative" "No can do" "There's no way, Sir!"]       "negative nocando theresnowaysir"   2
genvcitem "Sorry"                                               sorry                               3
genvcitem "I'm on your team, man!"                              imonyourteamman                     4
genvcitem ["We did it!" "Go get 'em boys!" "Good job, team!"]   "wedidit gogetemboys goodjobteam"   5

newmenu "Public Talk" 1 1

genvcitem "Nice shot"                   niceshot            1
