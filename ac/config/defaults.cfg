// these default settings get executed whenever "saved.cfg" is not available
// do not modify anything below, instead change settings in game, or add to autoexec.cfg

name "unarmed"     // change!

loadcrosshair default.png	// choose another crosshair, see packages/misc/crosshairs/

skin 0			   // change your look
autoreload 1	   // reload the guns automatically

alias maxmusicvol 120 // set higher if you want (max 255)

// example WASD

bind W forward
bind A left
bind S backward
bind D right

bind B "showmenu weapons"

alias primary [ weapon (currentprimary) ]
alias secondary [ weapon 1 ]
alias melee [ weapon 0 ]
alias grenades [weapon 6 ]

bind 1 primary
bind 2 secondary
bind 3 grenades
bind 4 melee
bind R reload
bind G [ if $editing [ solid 0 ] [ quicknadethrow ] ]

//for alternative weapon binding (more economic) see the end of this file

lighterror 4 //set higher (for example 8) if you experience slowdown

alias altaction [
	(concatword altaction_ (curweapon))
]

alias quicknadethrow [ 
	alias prevweapon (curweapon)
	if (> (magcontent 6) 0) [
		grenades
		attack
	] []
	onrelease [ sleep 1 [ weapon $prevweapon ] ]
]

loop i 7 [ alias (concatword altaction_ $i) quicknadethrow ] // quick nade throw is default
alias altaction_4 [ zoom 1; onrelease [ zoom 0 ] ] // sniper
alias altaction_6 [ ] // grenade (none)

// NOTE: by default this zoom script just devides your sensitivity by 2 while you use the scope
// if you want to set your own value for it, go to the following line and 
// replace (div $sensitivity 2) by your desired sensitivity value:

alias scopesens (div $sensitivity 2)
alias oldsens $sensitivity

alias zoom [ 
	if (= $arg1 1) [
		if (= $sensitivity $scopesens) [] [
			alias oldsens $sensitivity
			sensitivity $scopesens
			setscope  1
		]
    ] [
		sensitivity $oldsens
		setscope 0
	]
]

//bind MOUSE2 [ zoom 1; onrelease [ zoom 0 ] ]
bind MOUSE2 altaction

// alternative zoom toggle
//alias ztoggle 0
//bind MOUSE2 [ alias ztoggle (= ztoggle 0); zoom $ztoggle ]

alias votemap [ mode $arg1; map $arg2 ]

alias tdm   [ votemap 0 $arg1 ]
alias ts    [ votemap 4 $arg1 ]
alias ctf   [ votemap 5 $arg1 ]
alias dm    [ votemap 2 $arg1 ]
alias ffa   [ votemap 2 $arg1 ]
alias lms   [ votemap 3 $arg1 ]
alias pf    [ votemap 6 $arg1 ]
alias lss   [ votemap 9 $arg1 ]
alias insta [ votemap 10 $arg1 ]
alias osok  [ votemap 10 $arg1 ]
alias tosok [ votemap 11 $arg1 ]

//--------------------- editing -------------------------------

// below is a fun new way of editing, with all using the mousewheel
// try it out :)

alias modifier 0
alias domodifier [ alias modifier $arg1; onrelease [ alias modifier 0 ] ]

bind Q "domodifier 1"
bind Z "domodifier 2"
bind X "domodifier 3"

alias universaldelta [
  if $editing [ alias s "edit" ] [ 
    if (alive) [ alias s "game" ] [ alias s "spect" ]
  ]
  (concatword delta _ $s _ $modifier)
]

bind MOUSE4 "universaldelta  1"
bind MOUSE5 "universaldelta -1"

alias delta_edit_0 [ editheight $flrceil $arg1 ]
alias delta_edit_1 [ if $flrceil [ vdelta $arg1 ] [ vdelta (- 0 $arg1) ] ]
alias delta_edit_2 [ edittex $flrceil $arg1 ]
alias delta_edit_3 [ edittex (+ $flrceil 1) $arg1 ]
alias delta_edit_4 [ equalize $flrceil ]
alias delta_edit_5 [ entproperty 0 $arg1 ]  // and the others
alias delta_game_0 [ if (= $arg1 1) [ shiftweapon 1 ] [ shiftweapon -1 ] ]
alias delta_spect_0 [ followplayer $arg1 ]

// alternative weapon switching, no more 1-2-3-4 /wheel cycling no finger ever leaving WASD
//uncomment lines (remove the //) below to activate

//alias delta_game_0 [ if (= $arg1 1) [ primary ] [ secondary ] ]
//bind lshift "grenades"
//bind lalt "melee"

alias timeremain [ echo time remaining: ($minutesremaining) ]
alias toggleshowmap [ showmap 1; onrelease [ showmap 0 ] ]

music ac.ogg
musicvol 0

alias start_intermission [
    // play once (1:40) 
    musicvol $maxmusicvol
    fade 0
    sleep 10000 [ fade 1 ]
]

