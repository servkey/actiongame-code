// Adds a list of aliases to be deleted (cleared from saved.cfg) on every quit.
// Do not modify. (unless you really know what you're doing)

// Restores aliases that were stored in saved.cfg as a list - for increased efficiency
saveClientData = "curname LANG askquit flystyle nickhighlight soundqualityalias dyngamma __gibsgore gfxqualityalias poniesmodeon old_editbinds"

if (! (checkalias afterinit)) [ afterinit = "" ]
if (! (strstr $afterinit tmpClientData)) [
  add2alias afterinit [ 
    if (checkalias tmpClientData) [
      if (= (listlen $tmpClientData) (listlen $saveClientData)) [
        loop lcd (listlen $tmpClientData) [
          (at $saveClientData $lcd) = (at $tmpClientData $lcd)
        ]
      ]
    ]
  ]
]
// Stores the data as a list
addOnQuit [
  tmpClientData = ""
  loop scd (listlen $saveClientData) [ add2list tmpClientData (getalias (at $saveClientData $scd)) ]
]

addListOnQuit = [ alias_list = $arg1; loop al (listlen $alias_list) [ addOnQuit (concat "delalias" (at $alias_list $al)) ] ]

on_quit_aliases = [
  _demofile
  badargs
  cmapp
  cs_sets
  cs_newsets
  i
  len
  modifier
  numcla
  numrvsf
  omit_idents
  r
  s
  sbdesc
  sbdns
  sbport
  tmp_botmap
  tmp_botskill
  tmp_cl
  tmp_cradius
  tmp_ff
  tmp_gamma_list
  tmp_hex
  tmp_mode
  tmp_mrem
  tmp_numargs
  tmp_numbots
  tmp_old_sets
  tmp_svol
  tmp_tutsets
  tmp_wc
  watchingtutorial
  addListOnQuit
  on_quit_aliases
]

addListOnQuit $saveClientData; addListOnQuit $on_quit_aliases; addOnQuit [ delalias alias_list ]