// standard completions

alias mapcomplete [complete $arg1 "packages/maps" cgz]

mapcommands = "map tdm coop dm lms ts ctf pf lss osok tosok htf vip tktf ktf"
loop i (listlen $mapcommands) [
    mapcomplete (at $mapcommands $i)
]

complete demo "demos" dmo

alias entcomplete [listcomplete $arg1 "light playerstart clips ammobox grenades health armour akimbo mapmodel trigger ladder ctf-flag sound clip"]

entcomplete newent

// standard menu definitions

newmenu main

menuitem "Multiplayer"			"showmenu multiplayer"
menuitem "Singleplayer"			"showmenu singleplayer"
menuitem "Settings"			"showmenu settings"
menuitem "Demo"				"demomenu"
menuitem "Editing" 			"showmenu editing"
menuitem "Help"				"showmenu help"
menuitem "About"			"showmenu about"
menuitem "Quit"				"savequit"


// Start maps.

alias genmapitems [
    alias n (listlen $arg1)
    loop i $n [
        alias listmapname (at $arg1 $i)
        menuitem $listmapname (concat map $listmapname)
        alias next (+ $i 1)
        if (= $next $n) [ alias next 0 ] []
        alias nextmap (at $arg1 $next)
        alias (concatword nextmap_ $listmapname) $nextmap
    ]
]
newmenu maps
// Add maps to the below list to include them in the normal map menu (also for botmaps).
alias defaultmaps "ac_arctic ac_complex ac_depot ac_desert ac_desert2 ac_desert3 ac_elevation ac_keller ac_mines ac_power ac_scaffold ac_shine ac_snow ac_sunset ac_toxic ac_urban"
genmapitems	$defaultmaps
menuitem	""""
menuitem	"Show all maps..." [ showmenu "all maps" ]

newmenu "all maps"
menudirlist "packages/maps" "cgz" "map $arg1"



newmenu maps_flags 
// Add maps to the below list to include them in the CTF, KTF & TKTF map menu. Maps should contain flags here.
alias ctfmaps "ac_depot ac_desert3 ac_elevation ac_keller ac_mines ac_power ac_shine ac_sunset ac_urban"
genmapitems $ctfmaps
menuitem """"
menuitem "Show all maps.." [showmenu "all maps"]



alias demomenu [ if $connected [ showmenu Demo ] [ showmenu "Play demo" ] ] // Decide to show recording or playback menu.


newmenu Demo // If in-game (playing demos isn't needed)

menuitem "Start recording a demo"	"recorddemo"
menuitem "Stop recording a demo"	"stopdemo"
menuitem "Download demos from the server"	[ listdemos; showmenu "Download demo" ] // Lists the demos, then asks which would like to be downloaded.


newmenu "Download demo"
menuinit [ echo "4Choose the demo number you wish to download, as show below in the console." ]
menuitemtextinput "Demo number:  "	"" "alias dldemo $arg1"
menuitem "2	  [ Download ]		" "getdemo $dldemo"



newmenu "Play demo"	// If not in-game (recording/downloading demos isn't needed)
menuinit [ echo "To stop demo playback, type: 3/stopdemo" ]
menudirlist "demos/" "dmo" "demo $arg1"



newmenu about

menuitem "AssaultCube v1.0" ""
menuitem "                     ...Help"		"showmenu help"
menuitem "                     ...Credits"	"showmenu Credits"
menuitem ""
menuitem "by 'Rabid Viper Productions'" "showmenu credits"
menuitem "http://assault.cubers.net" "echo sorry no built-in web browser yet :)"
menuitem "a cube mod/tc based on the" ""
menuitem ""
menuitem "Cube Engine" ""
menuitem "by Wouter 'Aardappel' van Oortmerssen" ""
menuitem "and others" ""
menuitem "http://www.cubeengine.com/" "echo sorry no built-in web browser yet :)"


newmenu help

menuitem "AssaultCube reference"	"showmenu reference"
menuitem "Search the reference"		[ showmenu "Reference search" ]
menuitem "Keyboard controls"			"showmenu controls"
menuitem "" ""
menuitem "...for further information/help see the README" "echo 2The readme can be found in the base AssaultCube directory."

newmenu "Reference search"
menuinit [ alias docsearchstring "" ]
menuitemtextinput "Search reference for:  "	"" "alias docsearchstring $arg1"
menuitem "2		  [ Search ]			" "docfind $docsearchstring"


newmenu Credits

menuitem "Project Leaders" ""
menuitem "-----------------" ""
menuitem "driAn				Lead coder, OpenAL, OpenGL, gameplay code." ""
menuitem "makkE				Lead artist, models, skins, animations," ""
menuitem "				mapping, 2D-art, textures, sounds." ""
menuitem "" ""
menuitem "Active Developers/Contributors" ""
menuitem "-----------------------------------" ""
menuitem "eihrul				Coder, OpenGL expert, Enet Library, Cube2 backporting." ""
menuitem "RandumIdiot			Mapping, documentation, tester, clean-up crew." ""
menuitem "Flowtron			Universal team member, additional code, admin, community chief." ""
menuitem "stef				Bug fixes, additional code, server stuff, new modes." ""
menuitem "Toca				Mapmodels, sounds, textures, other stuff."
menuitem "" ""
menuitem "Community Mappers" ""
menuitem "-----------------------" ""
menuitem "Shadow			Map: ac_elevation." ""
menuitem "Wotwot				Map: ac_power, plus textures." ""
menuitem "daMfr0				Map: ac_snow." ""
menuitem "MitaMAN			Map: ac_depot, plus textures." ""
menuitem "Nieb				Map: ac_desert2, ac_desert3, plus mapmodels, 2D-art and hosting." ""
menuitem "Archangel			Map: ac_urban." ""
menuitem "Mr.Floppy			Map: ac_keller, plus textures."
menuitem "DogDancing			Map: ac_shine, ac_scaffold, textures."
menuitem "R4zor				Map: ac_sunset."
menuitem "KC				Map: ac_arctic."
menuitem "" ""
menuitem "Special thanks" ""
menuitem "----------------" ""
menuitem "Aardappel & others		The Cube Game/Engine." ""
menuitem "Arghvark			Previous project leader, game concept, code." ""
menuitem "Verbal_				Q&A, advisor, lead tester, pro-coffee service." ""
menuitem "Rick Helmus			Bot code." ""
menuitem "absinth				Packaging AssaultCube for Mac." ""
menuitem "dtd				Hosting." ""
menuitem "Grenadier (aurhat)		Small code contributions/fixes." ""
menuitem "KanslozeClown			Code contributions and advice." ""
menuitem "" ""
menuitem "Resources" ""
menuitem "------------" ""
menuitem "JCDPC				Laptop mapmodel, textures." ""
menuitem "Topher				Some crosshairs." ""
menuitem "leileilol				Bullethole image." ""
menuitem "Steini				Skyboxes." ""
menuitem "Antiklimax			Sniper scope." ""
menuitem "SimonOC			Nightball/Graveyard skymap." ""
menuitem "LadyNightHawk		 	InhCanyons skymap." ""
menuitem "Sock 				Iceflow skymap." ""
menuitem "HitmanDaz[MT]		Playermodels"
menuitem "" ""
menuitem "Texture sources" ""
menuitem "------------------""
menuitem "Articool, Boeck, Craig Fortune, Digital Flux, mayang.com, imageafter.com, " ""
menuitem "Craig Fortune, Digital Flux, mayang.com, afflict.net, Rohrschach, Lemog 3D," ""
menuitem "Golgotha team, NOCTUA, Chris Zastrow, 3D Cafe, Kurt Keslar, John Solo," ""
menuitem "drunkenM, www.openfootage.com." ""
menuitem ""
menuitem "Sound sources"
menuitem "----------------""
menuitem "DCP, wildweasel (Vote sounds), Tremulous team (Gib sound), mwl500, fonogeno," ""
menuitem "Lukas Zapletal & Ludek Horacek (Music), livindead, NoiseCollector, droboide," ""
menuitem "nicStage, acclivity, Syna Max, ermine, ReWired, nofeedbak, vuzz, mich3d," ""
menuitem "Rhedcerulean, www.soundsnap.com, dommygee, fresco, WIM, ignotus, acclivity, Bahutan"
menuitem "" ""
menuitem "Also thanks to kurtis84, player1, quase, exis, talou and others for testing." ""
menuitem "Thanks to flowtron and exis for organising the 0.93 AssaultCube Release Cup." ""


// Show quit dialog if enabled
newmenu quit
menuitem "Yes, quit now" "quit"
menuitem "No" " "
menuitem "" ""
menuitemcheckbox "Don't ask next time: " "(= $askquit 0)" "askquit = (= $arg1 0)"

alias savequit [
    if (= $askquit 1) [ showmenu quit ] [ quit ]
]

// Game mode descriptions...
gamemodedesc 0 [Team Deathmatch: Find the enemy team and destroy them!]
gamemodedesc 1 [Co-operative edit: Use this mode to edit maps with others online!]
gamemodedesc 2 [Deathmatch: Destroy anything that moves! Everyone for themselves!]
gamemodedesc 3 [Survivor: Everyone for themselves! Once you die, you must wait for the round to restart.]
gamemodedesc 4 [Team Survivor: Find the enemy team, destory them. Once everyone on the enemy team is gone... repeat!]
gamemodedesc 5 [Capture the Flag: Steal the enemy flag and bring it to your home base. Don't let your own flag get stolen.]
gamemodedesc 6 [Pistol Frenzy: Can you make your enemy eat lead with the most simple of weapons?]
gamemodedesc 7 [Bot Team Deathmatch: Find the enemy team and destroy them!]
gamemodedesc 8 [Bot Deathmatch: It's every man and A.I for themselves! Dismantle those bots!  ]
gamemodedesc 9 [Last Swiss Standing: Knive and bomb the enemy!]
gamemodedesc 10 [One Shot, One Kill: You and your opponents start with 1hp, a sniper rifle, a knife and no pickups. Survive with your sniper, or humiliate with your swiss steel.]
gamemodedesc 11 [Team One Shot, One Kill: Your team starts with 1hp, a sniper rifle, a knife and no pickups. Survive with your sniper, or humiliate with your swiss steel.]
gamemodedesc 12 [Bot One-Shot, One Kill: You and the bots start with 1hp, a sniper rifle, a knife and no pickups. Survive with your sniper, or humiliate with your swiss steel.]
gamemodedesc 13 [Hunt the Flag: Find the enemy flag, frag the flag bearer and collect the flag to score. Protect your own team flag.]
gamemodedesc 14 [Team Keep the Flag: There is only one flag. Get the flag and keep it. You score one point every 15 seconds. If your teammate has the flag, protect him.]
gamemodedesc 15 [Keep the Flag: Get the flag and keep it. You score one point every 15 seconds. Everybody is will want to destroy you!]


// Create additional menus...
exec config/menus_bot.cfg
exec config/menus_edit.cfg
exec config/menus_settings.cfg
exec config/menus_multiplayer.cfg
