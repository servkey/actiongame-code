// standard menu definitions

bind ESCAPE "showmenu main"    // it all starts here

newmenu main

menuitem "Multiplayer"			"showmenu multiplayer"
menuitem "Singleplayer"			"showmenu singleplayer"
menuitem "Player Setup"			"showmenu setup"
menuitem "Settings"			"showmenu settings"
menuitem "Demo"				"showmenu demo"
menuitem "Editing" 			"showmenu editing"
menuitem "Help"				"showmenu help"
menuitem "About"			"showmenu about"
menuitem "Quit"				"quit"


alias genmapitems [
    alias n (listlen $arg1)
    loop i $n [
        alias listmapname (at $arg1 $i)
        menuitem $listmapname (concat map $listmapname)
        alias next (+ $i 1)
        if (= $next $n) [ alias next 0 ] []
        alias nextmap (at $arg1 $next)
        alias (concatword nextmap_ $listmapname) $nextmap
    ]
]

newmenu maps

genmapitems	"ac_complex ac_mines ac_depot ac_desert ac_desert2 ac_snow ac_power ac_elevation ac_toxic"
menuitem	""""
menuitem	"Show all maps..." [ showmenu "all maps" ]

newmenu "all maps"
menudirlist "packages/maps" "cgz" "map $arg1"

newmenu maps_ctf 

genmapitems "ac_mines ac_depot ac_power ac_elevation"
menuitem """"
menuitem "Show all maps.." [showmenu "all maps"]


newmenu demo

menuitem "record demo"              "recorddemo"
menuitem "play demo"                [showmenu "play demo"]
menuitem "stop recording/playback"  "stopdemo"
menuitem "list demos"               "listdemos"
menuitem "getdemo"                  "getdemo"


newmenu "play demo"
menudirlist "demos/" "dmo" "demo $arg1"


newmenu multiplayer

menuitem "Join Game"              	"showmenu server"
menuitem "Join LAN Game"            "lanconnect"
menuitem "Update Servers"         	"updatefrommaster;showmenu server"
menuitem "Disconnect"             	"disconnect"
menuitem "Vote"                   	"showmenu gamemode"
menuitem "Chat"                     "saycommand"
menuitem "Team Chat"                "saycommand %"
menuitem "Server Operator"			"showmenu [server operator]"


newmenu gamemode

menuitem "Team Deathmatch"			"mode 0; showmenu maps"
menuitem "Deathmatch"        		"mode 2; showmenu maps"
menuitem "Team Survivor"			"mode 4; showmenu maps"
menuitem "Survivor"					"mode 3; showmenu maps"
menuitem "Capture the Flag"			"mode 5; showmenu maps_ctf"
menuitem "Pistol Frenzy"		    "mode 6; showmenu maps"
menuitem "Last Swiss Standing"		"mode 9; showmenu maps"
menuitem "One Shot, One Kill"       "mode 10; showmenu maps"
menuitem "Team One Shot, One Kill"  "mode 11; showmenu maps"

newmenu "server operator"

menuitem "Claim Master" "setmaster 1"
menuitem "Give Up Master" "setmaster 0"
menuitem "Claim Admin" "saycommand /setadmin 1 myPassword"
menuitem "Give Up Admin" "setadmin 0"
menuitem "" ""
menuitem "Set Mastermode" "showmenu mastermode"
menuitem "Change Mode/Map" "showmenu gamemode"
menuitem "Force Team Change" [showmenu "force team"]
menuitem "Kick Player" [showmenu "kick player"]
menuitem "Ban Player" [showmenu "ban player"]
menuitem "Remove Bans" "removebans"
menuitem "Give Master" [showmenu "give master"]


newmenu mastermode

menuitem "Open" "mastermode 0"
menuitem "Private" "mastermode 1"


newmenu about

menuitem "AssaultCube v0.94" ""
menuitem ""
menuitem "                     ...help"		"showmenu help"
menuitem "                     ...credits"	"showmenu credits"
menuitem ""
menuitem "by 'Rabid Viper Productions'" "showmenu credits"
menuitem "http://assault.cubers.net" "echo sorry no built-in web browser yet :)"
menuitem "a cube mod/tc based on the" ""
menuitem ""
menuitem "Cube game/engine" ""
menuitem "by Wouter 'Aardappel' van Oortmerssen" ""
menuitem "and others" ""
menuitem "http://www.cubeengine.com/" "echo sorry no built-in web browser yet :)"


newmenu help

menuitem "AssaultCube reference"	"showmenu reference"
menuitem "Search commands"		"saycommand /docfind "
menuitem "Default keys"			"showmenu controls"
menuitem "Map editing help"		[ showmenu "Map editing help" ]
menuitem "" ""
menuitem "...for further information/help see the README" "echo 2The readme can be found in the base AssaultCube directory."


newmenu credits

menuitem "Arghvark	Project Leader, Code" ""
menuitem "driAn		Lead Coder" ""
menuitem "makkE	Lead Artist" ""
menuitem "		Maps, Models, Skins, Animation" ""
menuitem "		Sound, Some Textures, 2D-Art" ""
menuitem "Nieb		Models, Hosting" ""
menuitem "Mitaman	Maps, Resources" ""
menuitem "Verbal	QA, Advisor, Lead Tester" ""
menuitem "Eihrul		Coder, Enet Library, Cube2 backporting" ""
menuitem ""
menuitem "Special thanks to:" ""
menuitem ""
menuitem "Aardappel (Engine), Rick (Bots), absinth (AC for Mac)" ""
menuitem "JCDPC (Laptop Mapmodel), dtd (Hosting), Boeck" ""
menuitem "DCP (music), ac_stef (bug fixes), RandumIdiot" ""
menuitem "Ted Southard (DigitalFlux), Noctua Graphics, Arcitool" ""
menuitem "Craig Fortune, 3dcafe, Rohrschach, lemong.fr," ""
menuitem "Mayang.com, Chris Zastrow, imageafter.com (textures)" ""


// create additional menus
exec config/menus_bot.cfg
exec config/menus_edit.cfg
exec config/menus_settings.cfg